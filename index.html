<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Forex Trading Sessions - BDT</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f1419;
            min-height: 100vh;
            padding: 0;
            color: #ffffff;
            margin: 0;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: #1a1f2e;
            min-height: 100vh;
            padding: 0;
            box-shadow: none;
        }

        .header {
            background: #0f1419;
            padding: 40px 60px;
            border-bottom: 1px solid #2d3748;
            margin-bottom: 0;
        }

        .title {
            font-size: 2rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 12px;
            letter-spacing: -0.025em;
        }

        .current-time {
            font-size: 1.1rem;
            color: #a0aec0;
            font-weight: 400;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
        }

        .table-container {
            overflow-x: auto;
            margin: 0;
            padding: 60px;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: transparent;
            border: 1px solid #2d3748;
            border-radius: 12px;
            overflow: hidden;
        }

        th {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px 24px;
            text-align: left;
            font-weight: 500;
            font-size: 0.875rem;
            text-transform: none;
            letter-spacing: 0;
            border-bottom: 1px solid #4a5568;
        }

        td {
            padding: 20px 24px;
            border-bottom: 1px solid #2d3748;
            font-size: 0.875rem;
            vertical-align: middle;
            background: #1a1f2e;
            color: #e2e8f0;
        }

        tr:hover td {
            background-color: #2d3748;
            transition: background-color 0.15s ease;
        }

        .session-name {
            font-weight: 600;
            color: #ffffff;
            font-size: 0.95rem;
        }

        .time {
            font-weight: 500;
            color: #a0aec0;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.875rem;
        }

        .status-open {
            color: #48bb78;
            font-weight: 600;
            text-transform: none;
            font-size: 0.8rem;
            background: rgba(72, 187, 120, 0.1);
            padding: 6px 12px;
            border-radius: 6px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: 1px solid rgba(72, 187, 120, 0.2);
        }

        .status-closed {
            color: #f56565;
            font-weight: 600;
            text-transform: none;
            font-size: 0.8rem;
            background: rgba(245, 101, 101, 0.1);
            padding: 6px 12px;
            border-radius: 6px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: 1px solid rgba(245, 101, 101, 0.2);
        }

        .currency-pairs {
            font-size: 0.8rem;
            color: #cbd5e0;
            line-height: 1.5;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
        }

        .overlap-info {
            font-weight: 500;
            color: #9f7aea;
            font-size: 0.875rem;
        }

        .note {
            background: #2d3748;
            padding: 32px 60px;
            margin: 0;
            border-top: 1px solid #4a5568;
        }

        .note h3 {
            color: #e2e8f0;
            margin-bottom: 16px;
            font-size: 1rem;
            font-weight: 600;
        }

        .note p {
            color: #a0aec0;
            line-height: 1.6;
            font-size: 0.875rem;
            margin-bottom: 12px;
        }

        .note p:last-child {
            margin-bottom: 0;
        }

        @media (max-width: 768px) {
            .header {
                padding: 24px 20px;
            }

            .title {
                font-size: 1.5rem;
            }

            .current-time {
                font-size: 0.95rem;
            }

            .table-container {
                padding: 20px;
            }

            th, td {
                padding: 16px 12px;
                font-size: 0.8rem;
            }

            .note {
                padding: 24px 20px;
            }
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
        }

        /* Custom Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: #0f1419;
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb {
            background: #4a5568;
            border-radius: 6px;
            border: 2px solid #0f1419;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #718096;
        }

        ::-webkit-scrollbar-thumb:active {
            background: #a0aec0;
        }

        ::-webkit-scrollbar-corner {
            background: #0f1419;
        }

        /* Firefox Scrollbar */
        * {
            scrollbar-width: thin;
            scrollbar-color: #4a5568 #0f1419;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">Live Forex Trading Sessions</h1>
            <div class="current-time" id="currentTime">Loading...</div>
        </div>

        <div class="table-container">
            <table id="forexTable">
                <thead>
                    <tr>
                        <th>Forex Session</th>
                        <th>BDT Start Time</th>
                        <th>BDT End Time</th>
                        <th>Session Status</th>
                        <th>Major Pairs</th>
                        <th>Overlapping Session</th>
                        <th>Suggested Pairs for Overlap</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <tr>
                        <td colspan="7" class="loading">Initializing live data...</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="note">
            <h3>üìù Important Notes:</h3>
            <p><strong>Time Zone:</strong> All times are displayed in Bangladesh Standard Time (BST = GMT+6).</p>
            <p><strong>Session Times:</strong> Sydney (4:00 AM-1:00 PM BST), Tokyo (5:00 AM-2:00 PM BST), London (2:00 PM-11:00 PM BST), New York (7:00 PM-4:00 AM BST)</p>
            <p><strong>Key Overlaps:</strong> London-New York (7:00 PM-11:00 PM BST) for major pairs with highest liquidity, Tokyo-London (1:00 PM-2:00 PM BST) for Yen pairs</p>
            <p><strong>Updates:</strong> Session statuses and overlaps update automatically every second based on current BST time.</p>
        </div>
    </div>

    <script>
        class ForexSessionTracker {
            constructor() {
                this.sessions = [
                    {
                        name: 'Sydney',
                        bstStart: 4,  // 4 AM BST
                        bstEnd: 13,   // 1 PM BST
                        majorPairs: ['AUD/USD', 'AUD/JPY']
                    },
                    {
                        name: 'Tokyo',
                        bstStart: 5,  // 5 AM BST
                        bstEnd: 14,   // 2 PM BST
                        majorPairs: ['USD/JPY', 'EUR/JPY']
                    },
                    {
                        name: 'London',
                        bstStart: 14, // 2 PM BST
                        bstEnd: 23,   // 11 PM BST
                        majorPairs: ['GBP/USD', 'EUR/USD']
                    },
                    {
                        name: 'New York',
                        bstStart: 19, // 7 PM BST
                        bstEnd: 4,    // 4 AM BST (next day)
                        majorPairs: ['USD/CAD', 'USD/CHF']
                    }
                ];

                this.overlapPairs = {
                    'Sydney-Tokyo': ['AUD/JPY', 'NZD/JPY'],
                    'Tokyo-London': ['EUR/JPY', 'GBP/JPY'], // 1 PM-2 PM BST - High liquidity for Yen pairs
                    'London-New York': ['EUR/USD', 'GBP/USD'], // 7 PM-11 PM BST - Highest liquidity period
                    'Sydney-London': ['AUD/USD', 'GBP/AUD'],
                    'Tokyo-New York': ['USD/JPY', 'EUR/JPY'],
                    'Sydney-New York': ['AUD/USD', 'NZD/USD']
                };

                this.init();
            }

            init() {
                this.updateDisplay();
                // Update every second for real-time accuracy
                setInterval(() => this.updateDisplay(), 1000);
            }

            getBDTTime() {
                return new Date().toLocaleString('en-US', {
                    timeZone: 'Asia/Dhaka',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: true
                });
            }

            getSessionTimes(session) {
                // Create BST times directly
                const today = new Date();
                const bstStart = new Date(today.getFullYear(), today.getMonth(), today.getDate(), session.bstStart, 0, 0);
                const bstEnd = new Date(today.getFullYear(), today.getMonth(), today.getDate(), session.bstEnd, 0, 0);
                
                // Handle sessions that end the next day (like New York)
                if (session.bstEnd < session.bstStart) {
                    bstEnd.setDate(bstEnd.getDate() + 1);
                }

                return {
                    start: bstStart,
                    end: bstEnd,
                    startFormatted: this.formatTime(session.bstStart),
                    endFormatted: this.formatTime(session.bstEnd)
                };
            }

            formatTime(hour) {
                const period = hour >= 12 ? 'PM' : 'AM';
                const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;
                return `${displayHour}:00 ${period}`;
            }



            isSessionOpen(session) {
                const now = new Date();
                const bstNow = new Date(now.toLocaleString('en-US', {timeZone: 'Asia/Dhaka'}));
                const currentHour = bstNow.getHours();
                
                // Handle sessions that cross midnight (like New York: 19-4)
                if (session.bstEnd < session.bstStart) {
                    // Session crosses midnight
                    return currentHour >= session.bstStart || currentHour < session.bstEnd;
                } else {
                    // Normal session within same day
                    return currentHour >= session.bstStart && currentHour < session.bstEnd;
                }
            }

            getOverlappingSessions() {
                const openSessions = this.sessions.filter(session => this.isSessionOpen(session));
                const overlaps = [];

                for (let i = 0; i < openSessions.length; i++) {
                    for (let j = i + 1; j < openSessions.length; j++) {
                        const session1 = openSessions[i].name;
                        const session2 = openSessions[j].name;
                        const overlapKey = `${session1}-${session2}`;
                        const reverseKey = `${session2}-${session1}`;
                        
                        overlaps.push({
                            sessions: [session1, session2],
                            pairs: this.overlapPairs[overlapKey] || this.overlapPairs[reverseKey] || ['EUR/USD', 'GBP/USD']
                        });
                    }
                }

                return overlaps;
            }

            updateDisplay() {
                // Update current time
                document.getElementById('currentTime').textContent = 
                    `Current BDT Time: ${this.getBDTTime()}`;

                // Update table
                const tableBody = document.getElementById('tableBody');
                const overlaps = this.getOverlappingSessions();
                
                tableBody.innerHTML = this.sessions.map(session => {
                    const times = this.getSessionTimes(session);
                    const isOpen = this.isSessionOpen(session);
                    const sessionOverlaps = overlaps.filter(overlap => 
                        overlap.sessions.includes(session.name)
                    );

                    let overlapInfo = '';
                    let overlapPairs = '';

                    if (sessionOverlaps.length > 0) {
                        const otherSessions = sessionOverlaps.map(overlap => 
                            overlap.sessions.find(s => s !== session.name)
                        );
                        overlapInfo = otherSessions.join(', ');
                        overlapPairs = sessionOverlaps[0].pairs.join(', ');
                    }

                    return `
                        <tr>
                            <td class="session-name">${session.name}</td>
                            <td class="time">${times.startFormatted}</td>
                            <td class="time">${times.endFormatted}</td>
                            <td>
                                <span class="${isOpen ? 'status-open' : 'status-closed'}">
                                    <span style="width: 8px; height: 8px; border-radius: 50%; background: ${isOpen ? '#48bb78' : '#f56565'}; display: inline-block;"></span>
                                    ${isOpen ? 'Open' : 'Closed'}
                                </span>
                            </td>
                            <td class="currency-pairs">${session.majorPairs.join('<br>')}</td>
                            <td class="overlap-info">${overlapInfo || '-'}</td>
                            <td class="currency-pairs">${overlapPairs || '-'}</td>
                        </tr>
                    `;
                }).join('');
            }
        }

        // Initialize the tracker when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new ForexSessionTracker();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98353f313521d063',t:'MTc1ODU4MDIyNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
